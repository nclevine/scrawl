<template name='userProfile'>
  <div class='user-profile'>
    <h1 class='page-header'>{{username}} <span>{{firstName}} {{lastName}}</span></h1>

    {{#if belongsTo}}
      <a href='' class='profile-edit-button'>Edit Profile</a>
      <form class='profile-edit'>
        <label>First Name
          <input type='text' name='first-name' placeholder='First Name' value="{{firstName}}" />
        </label>
        <label>Last Name
          <input type='text' name='last-name' placeholder='Last Name' value="{{lastName}}" />
        </label>
        <label>Private
          <input class='private-checkbox' type='checkbox' name='private' value='private' {{isPrivate}}/>
        </label>
        <input type='submit' value='Update' />
      </form>
      <div class='friends-list'>
        <h2 class='profile-header'>Your Friends</h2>
        {{#each friends}}
          <p class='friend-info'>
            <a href="{{path}}">{{name}}</a>
            {{drawingsCount}} drawings together
          </p>
        {{/each}}
      </div>
    {{else}}
      {{#if friendStatus}}
        <p>{{friendStatus}}</p>
        {{#if areFriends}}
          <a class='remove-friend' href=''>Remove friend</a>
          <a class='start-drawing' href=''>Start new drawing</a>
          <div class='new-friend-drawing'>
            <a class='cancel-drawing' href="">Cancel</a>
            <form class='new-friend-drawing-form'>
              <label>Title
                <input type='text' name='title' placeholder='Drawing Title'>
              </label>
              <label>Private
                <input class='private-checkbox' type='checkbox' name='private' />
              </label>
              <input type='submit' value='Start Drawing' />
              <p class='failure'></p>
            </form>
          </div>
        {{/if}}
        {{#if requestReceived}}
          <a class='accept-friend-request' href=''>Accept friend request</a>
        {{/if}}
      {{else}}
        <a class='add-friend' href=''>Add friend</a>
      {{/if}}
    {{/if}}

    <div class='profile-drawings-list'>
      <h2 class='profile-header'>Drawings</h2>
      {{#each drawings}}
        {{> drawingItem}}
      {{/each}}
    </div>
  </div>
</template>